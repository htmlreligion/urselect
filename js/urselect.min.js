!function(a){var b=function(b,c){function m(){g.addClass(k.optionsHiddenClass),f.removeClass(k.selectActiveClass)}function n(){if(-1===k.selectActiveClass.indexOf(" "))a("div."+k.selectActiveClass).removeClass(k.selectActiveClass);else for(var b=k.selectActiveClass.split(" "),c=0,d=b.length;d>c;c++)a("div."+b).removeClass(k.selectActiveClass);if(-1===k.optionsClass.indexOf(" "))a("div."+k.optionsClass).addClass(k.optionsHiddenClass);else for(var e=k.optionsClass.split(" "),c=0,d=e.length;d>c;c++)a("div."+e).addClass(k.optionsHiddenClass);var h=k.height?k.height:f.height();g.css({left:f.offset().left,top:f.offset().top+h,width:f.outerWidth()}).removeClass(k.optionsHiddenClass),f.addClass(k.selectActiveClass)}function o(a,b){return a.replace(/{([^{}]*)}/g,function(a,c){var d=b[c];return"string"==typeof d||"number"==typeof d?d:a})}function p(){g.on("click.urselect",function(b){var c=a(b.target);if(c.parents("a").length&&(c=c.closest("a")),c.is("a")){var e=c,f=e.attr("data-value"),g=d.val();return k.appendSelectedAttr?d.customSelectText.html(e.html()):d.customSelectText.text(e.text()),d.options.each(function(){f===a(this).attr("value")?a(this).prop("selected",!0):a(this).prop("selected",!1)}),f!==g&&g!==!1&&d.trigger("change"),m(),!1}})}var f,g,d=a(b),e=this,h=a(window),i=a(document),j=a("body"),k=a.extend({customizedClass:"customizedElement",selectBody:'<div class="bg-select-left"></div><div class="disabled"></div><div class="bg-select-center">{text}</div><a href="javascript:void(0);"></a>',selectTextHolder:"div.bg-select-center",selectOptionList:"<div><ul>{list}</ul></div>",selectOptionItem:'<li><a href="#" data-value="{value}">{text}</a></li>',selectClass:"customSelect",selectDisabledClass:"disabled-select",optionsClass:"customOptions",optionsHiddenClass:"customOptionsHidden",selectActiveClass:"customSelectActive",height:!1,flexible:!1,selectImplemented:!1,attr:!1,showSelectedAttr:!1,data:"urSelect",customScroll:!1,optionsMaxHeight:150},c||{});d.options=a("option",d),e.render=function(){g.off("click.urselect").remove();var b={list:""};if(d.options=a("option",d),d.prop("disabled")?f.addClass(k.selectDisabledClass):f.removeClass(k.selectDisabledClass),d.options.each(function(){var c={value:a(this).attr("value"),text:a(this).text(),attr:k.attr?a(this).attr(k.attr):""};b.list+=o(k.selectOptionItem,c)}),g=a(o(k.selectOptionList,b)).addClass(k.optionsClass),j.append(g),k.customScroll&&k.optionsMaxHeight){var c=a(k.customScroll,g),e=k.optionsMaxHeight?k.optionsMaxHeight:150;c.outerHeight()>e&&c.css("height",e).jScrollPane()}g.addClass(k.optionsHiddenClass);var h=!1;h=k.attr?d.options.filter(":selected").length?d.options.filter(":selected").attr(k.attr):d.options.eq(0).attr(k.attr):"";var i={text:d.options.filter(":selected").length?d.options.filter(":selected").text():d.options.eq(0).text(),attr:k.appendSelectedAttr?h:""};f.html(o(k.selectBody,i)),d.customSelectText=a(k.selectTextHolder,f),p()},e.destroy=function(){i.off("click.urselect"),h.off("resize.urselect"),h.off("scroll.urselect"),d.removeClass(k.customizedClass),f.off("click.urselect").remove(),a("a",g).off("click.urselect"),g.remove(),d.removeData("customSelect")},e.initialize=function(){var b=d.options.filter(":selected").length?d.options.filter(":selected").text():d.options.eq(0).text(),c=!1;c=k.attr?d.options.filter(":selected").length?d.options.filter(":selected").attr(k.attr):d.options.eq(0).attr(k.attr):"",f=a('<div class="'+k.selectClass+'"></div>').css({width:k.flexible?"100%":"auto"}),d.prop("disabled")&&f.addClass(k.selectDisabledClass);var l={text:b,attr:k.appendSelectedAttr?c:""};f.html(o(k.selectBody,l)),d.attr("placeholder")&&a(".disabled",f).text(d.attr("placeholder")),f.insertAfter(d),d.customSelectText=a(k.selectTextHolder,f);var q={list:""};if(d.options=a("option",d),d.options.each(function(){var b={value:a(this).attr("value"),text:a(this).text(),attr:k.attr?a(this).attr(k.attr):""};q.list+=o(k.selectOptionItem,b)}),g=a(o(k.selectOptionList,q)).addClass(k.optionsClass),j.append(g),k.customScroll&&"undefined"!=typeof a.fn.jScrollPane&&k.optionsMaxHeight){var r=a(k.customScroll,g),s=k.optionsMaxHeight?k.optionsMaxHeight:150;r.outerHeight()>s&&r.css("height",s).jScrollPane()}else k.customScroll=!1;g.addClass(k.optionsHiddenClass),p(),f.on("click.urselect",function(){f.hasClass(k.selectDisabledClass)||(f.hasClass(k.selectActiveClass)?m():n())}),h.on("resize.urselect",function(){f.hasClass(k.selectActiveClass)&&m()}).on("scroll.urselect",function(b){var c=a(b.target);f.hasClass(k.selectActiveClass)&&!c.hasClass("jspScrollable")&&0===c.parents("div.jspVerticalBar").length&&m()}),i.on("click.urselect",function(b){var c=a(b.target);c.parents("div."+k.selectActiveClass).length&&(c=c.closest("div."+k.selectActiveClass)),c.hasClass(k.selectActiveClass)||c.hasClass("jspScrollable")||0!==c.parents("div.jspVerticalBar").length||m()}),d.addClass(k.customizedClass),k.selectImplemented&&k.selectImplemented.apply(e)}()};a.fn.urSelect=function(c){return this.each(function(){var d=a(this);if(!d.data("customSelect")){var e=new b(this,c);d.data("customSelect",e)}})}}(jQuery);